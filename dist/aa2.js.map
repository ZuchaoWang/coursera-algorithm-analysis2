{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d4e5272a65d990e8c006","webpack:///./src/index.js","webpack:///external \"babel-polyfill\"","webpack:///./src/graph.js","webpack:///./src/bitcode.js","webpack:///./src/unionfind.js","webpack:///./src/clustering.js","webpack:///./src/heap.js","webpack:///./src/knapsack.js","webpack:///./src/tsp.js","webpack:///./src/twosat.js","webpack:///./src/wcomptime.js"],"names":["wcomptime","graph","clustering","knapsack","tsp","twosat","makeGraphFromEdges","addDummySourceNode","clone","reverse","dfs","sccKosaraju","mstPrim","mstKruskal","ssspDijkstra","ssspBellmanFord","apspJohnson","sumOfEdgeWeight","wedges","directed","weighted","nn","i","length","Math","max","from","to","ns","Array","idx","innbs","outnbs","nbs","es","props","w","push","nidx","eidx","g","en","Object","assign","j","nOrder","cbLeader","cbPre","cbPost","anynbs","stack","visited","fill","cur","nbChecked","pc","pop","nnb","next","order","gRev","gOri","labels","compCount","nadded","Set","eadded","nfrontier","a","b","firstNode","size","minNidx","add","minElem","minEidx","nb","nextNidx","nextEidx","has","hasKey","prevElem","getKey","popKey","uf","init","eSorted","slice","sort","e","fromRoot","find","toRoot","union","s","disArray","outnb","debug","prevDisArray","k","curNidx","floor","console","log","minDisOnly","gDummy","nodeWeights","gRW","edge","disMatrix","minDis","eidices","sum","toInt","toIntMutate2","intCount","intDec1","genAllInts","bits","n","mutated","tmp","_mutate","count","dec","p","N","pow","allInts","intRep","bitAtP","parentArr","rankArr","parent","rank","iroot","jroot","maxSpacing","bitcodeK2","spte","eindices","bitcodeArr","intReps","map","x","unqIdx","intSeen","unqBitcodeArr","unqIntReps","unqN","pos","Map","set","intMutated","get","unqRoot","dftCmpFunc","dftKeyFunc","Heap","cmpFunc","keyFunc","arr","_cmpFunc","_keyFunc","_arr","_pos","entries","xkey","Error","siftUp","val","delete","siftDown","last","start","left","right","sel","totalWeight","vals","weights","exclude","include","cache","prob","cacheSet","cacheHas","cacheGet","v","geoDisMatrix","dx","dy","sqrt","Nsub","prevMapping","Uint32Array","curMapping","prevPath","Float32Array","curPath","prevCount","curCount","prevDis","l","curDis","isSatisfiable","twoSatArray","twoSatArray2Graph","vn","vidx1","vidx2","abs","edges","vidx2nidx","vidx","sortByDiff","sortByRatio","getWCompTime","tasks","adiff","bdiff","cumt"],"mappings":"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","file":"./dist/aa2.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"babel-polyfill\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"babel-polyfill\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"aa2\"] = factory(require(\"babel-polyfill\"));\n\telse\n\t\troot[\"aa2\"] = factory(root[\"babel-polyfill\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d4e5272a65d990e8c006\n **/","import WCompTime from './wcomptime';\nimport Graph from './graph';\nimport Clustering from './clustering';\nimport Knapsack from './knapsack';\nimport TSP from './tsp';\nimport TwoSAT from './twosat';\n\nexport default {\n  wcomptime: WCompTime,\n  graph: Graph,\n  clustering: Clustering,\n  knapsack: Knapsack,\n  tsp: TSP,\n  twosat: TwoSAT\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babel-polyfill\"\n ** module id = 1\n ** module chunks = 0\n **/","import 'babel-polyfill';\nimport UnionFind from './unionfind';\nimport Heap from './heap';\n\nexport default {\n  makeGraphFromEdges: makeGraphFromEdges,\n  addDummySourceNode: addDummySourceNode,\n  clone: clone,\n  reverse: reverse,\n  dfs: dfs,\n  sccKosaraju: sccKosaraju,\n  mstPrim: mstPrim,\n  mstKruskal: mstKruskal,\n  ssspDijkstra: ssspDijkstra,\n  ssspBellmanFord: ssspBellmanFord,\n  apspJohnson: apspJohnson,\n  sumOfEdgeWeight: sumOfEdgeWeight\n};\n\nfunction makeGraphFromEdges(wedges, directed = false, weighted = false) {\n  var nn = 0,\n    i;\n  for (i = 0; i < wedges.length; i++) {\n    nn = Math.max(nn, wedges[i].from + 1);\n    nn = Math.max(nn, wedges[i].to + 1);\n  }\n\n  var ns = new Array(nn);\n  for (i = 0; i < nn; i++) {\n    if (directed) {\n      ns[i] = { idx: i, innbs: [], outnbs: [] };\n    } else {\n      ns[i] = { idx: i, nbs: [] };\n    }\n  }\n\n  var es = new Array(wedges.length);\n  for (i = 0; i < wedges.length; i++) {\n    es[i] = {\n      idx: i,\n      from: wedges[i].from,\n      to: wedges[i].to,\n      props: weighted ? { w: wedges[i].w } : { w: 1 }\n    };\n    if (directed) {\n      ns[wedges[i].from].outnbs.push({\n        nidx: wedges[i].to,\n        eidx: i\n      });\n      ns[wedges[i].to].innbs.push({\n        nidx: wedges[i].from,\n        eidx: i\n      });\n    } else {\n      ns[wedges[i].from].nbs.push({\n        nidx: wedges[i].to,\n        eidx: i\n      });\n      ns[wedges[i].to].nbs.push({\n        nidx: wedges[i].from,\n        eidx: i\n      });\n    }\n  }\n\n  return {\n    directed: directed,\n    ns: ns,\n    es: es\n  };\n}\n\nfunction addDummySourceNode(g, props) {\n  var nn = g.ns.length,\n    en = g.es.length,\n    i;\n\n  if (g.directed) {\n    g.ns.push({\n      idx: nn,\n      innbs: [],\n      outnbs: []\n    });\n    for (i = 0; i < nn; i++) {\n      g.ns[nn].outnbs.push({\n        nidx: i,\n        eidx: en + i\n      });\n      g.ns[i].innbs.push({\n        nidx: nn,\n        eidx: en + i\n      });\n      g.es.push({\n        idx: en + i,\n        from: nn,\n        to: i,\n        props: Object.assign({}, props)\n      });\n    }\n  } else {\n    g.ns.push({\n      idx: nn,\n      nbs: []\n    });\n    for (i = 0; i < nn; i++) {\n      g.ns[nn].nbs.push({\n        nidx: i,\n        eidx: en + i\n      });\n      g.ns[i].nbs.push({\n        nidx: nn,\n        eidx: en + i\n      });\n      g.es.push({\n        idx: en + i,\n        from: nn,\n        to: i,\n        props: Object.assign({}, props)\n      });\n    }\n  }\n\n  return g;\n}\n\nfunction clone(g) {\n  var nn = g.ns.length,\n    en = g.es.length,\n    ns = new Array(nn),\n    es = new Array(en),\n    i, j;\n\n  if (g.directed) {\n    for (i = 0; i < nn; i++) {\n      ns[i] = { idx: i, innbs: [], outnbs: [] };\n      for (j = 0; j < g.ns[i].outnbs.length; j++) {\n        ns[i].outnbs.push({\n          nidx: g.ns[i].outnbs[j].nidx,\n          eidx: g.ns[i].outnbs[j].eidx\n        });\n      }\n      for (j = 0; j < g.ns[i].innbs.length; j++) {\n        ns[i].innbs.push({\n          nidx: g.ns[i].innbs[j].nidx,\n          eidx: g.ns[i].innbs[j].eidx\n        });\n      }\n    }\n  } else {\n    for (i = 0; i < nn; i++) {\n      ns[i] = { idx: i, nbs: [] };\n      for (j = 0; j < g.ns[i].nbs.length; j++) {\n        ns[i].nbs.push({\n          nidx: g.ns[i].nbs[j].nidx,\n          eidx: g.ns[i].nbs[j].eidx\n        });\n      }\n    }\n  }\n\n  for (i = 0; i < en; i++) {\n    es[i] = {\n      idx: i,\n      from: g.es[i].from,\n      to: g.es[i].to,\n      props: Object.assign({}, g.es[i].props) // props will be shallow copy\n    };\n  }\n\n  return {\n    directed: g.directed,\n    ns: ns,\n    es: es\n  };\n}\n\nfunction reverse(g) {\n  if (!g.directed) {\n    return g;\n  }\n\n  var nn = g.ns.length,\n    en = g.es.length,\n    i;\n\n  for (i = 0; i < nn; i++) {\n    [g.ns[i].innbs, g.ns[i].outnbs] = [g.ns[i].outnbs, g.ns[i].innbs];\n  }\n\n  for (i = 0; i < en; i++) {\n    [g.es[i].from, g.es[i].to] = [g.es[i].to, g.es[i].from];\n  }\n\n  return g;\n}\n\nfunction dfs(g, nOrder, cbLeader, cbPre, cbPost) {\n  var nn = g.ns.length,\n    anynbs = g.directed ? 'outnbs' : 'nbs',\n    stack = [],\n    visited = new Array(nn),\n    i;\n  visited.fill(false);\n\n  if (!nOrder) {\n    nOrder = new Array(nn);\n    for (i = 0; i < nn; i++) {\n      nOrder[i] = i;\n    }\n  }\n\n  for (i = 0; i < nOrder.length; i++) {\n    var cur = nOrder[i];\n    if (!visited[cur]) {\n      visited[cur] = true;\n      if (cbLeader) {\n        cbLeader(cur);\n      }\n      if (cbPre) {\n        cbPre(cur);\n      }\n      stack.push({ cur: cur, nbChecked: 0 });\n      while (stack.length) {\n        var pc = stack.pop(),\n          nnb = g.ns[pc.cur][anynbs].length,\n          j = pc.nbChecked;\n        while (j < nnb) {\n          var next = g.ns[pc.cur][anynbs][j].nidx;\n          if (!visited[next]) {\n            stack.push({ cur: pc.cur, nbChecked: j + 1 });\n            visited[next] = true;\n            if (cbPre) {\n              cbPre(next);\n            }\n            stack.push({ cur: next, nbChecked: 0 });\n            break;\n          }\n          j++;\n        }\n        if (j === nnb) {\n          if (cbPost) {\n            cbPost(pc.cur);\n          }\n        }\n      }\n    }\n  }\n}\n\nfunction sccKosaraju(g) {\n  var nn = g.ns.length,\n    order = [],\n    gRev = reverse(g);\n\n  dfs(gRev, null, null, null,\n    i => {\n      order.push(i);\n    });\n  order = order.reverse();\n\n  var gOri = reverse(gRev),\n    labels = new Array(nn),\n    compCount = 0;\n  dfs(gOri, order,\n    i => {\n      compCount++;\n    },\n    i => {\n      labels[i] = compCount - 1;\n    }, null);\n\n  return labels;\n}\n\nfunction mstPrim(g) {\n  if (g.ns.length === 0) {\n    return [];\n  }\n\n  // nodes are in nadded, or nfrontier (reachable but not added), or neither (currently not reachable)\n  var nadded = new Set(),\n    eadded = [],\n    nfrontier = new Heap((a, b) => a.w - b.w, a => a.nidx), // nidx, eidx, w\n    firstNode = true;\n\n  while (firstNode || nfrontier.size() > 0) {\n    var minNidx;\n    if (firstNode) {\n      // choose first\n      firstNode = false;\n      minNidx = 0;\n\n      // record visited\n      nadded.add(minNidx);\n    } else {\n      // choose min\n      var minElem = nfrontier.pop(),\n        minEidx = minElem.eidx;\n      minNidx = minElem.nidx;\n\n      // record visited\n      nadded.add(minNidx);\n      eadded.push(minEidx);\n    }\n\n    // for all neighbours\n    for (var i = 0; i < g.ns[minNidx].nbs.length; i++) {\n      var nb = g.ns[minNidx].nbs[i],\n        nextNidx = nb.nidx,\n        nextEidx = nb.eidx;\n\n      // restrict to neighbours that are not added\n      if (!nadded.has(nextNidx)) {\n        if (nfrontier.hasKey(nextNidx)) {\n          var prevElem = nfrontier.getKey(nextNidx);\n          if (g.es[nextEidx].props.w < prevElem.w) {\n            nfrontier.popKey(nextNidx);\n            nfrontier.push({ nidx: nextNidx, eidx: nextEidx, w: g.es[nextEidx].props.w });\n          }\n        } else { // previously unreachable\n          nfrontier.push({ nidx: nextNidx, eidx: nextEidx, w: g.es[nextEidx].props.w });\n        }\n      }\n    }\n  }\n\n  return eadded;\n}\n\nfunction mstKruskal(g) {\n  var nn = g.ns.length,\n    uf = UnionFind.init(nn),\n    eSorted = g.es.slice(0).sort((a, b) => a.props.w - b.props.w);\n\n  var eadded = [];\n  for (var i = 0; i < eSorted.length; i++) {\n    var e = eSorted[i],\n      fromRoot = UnionFind.find(uf, e.from),\n      toRoot = UnionFind.find(uf, e.to);\n    if (fromRoot !== toRoot) {\n      UnionFind.union(uf, e.from, e.to);\n      eadded.push(e.idx);\n    }\n  }\n\n  return eadded;\n}\n\nfunction ssspDijkstra(g, s) {\n  var nn = g.ns.length,\n    disArray = new Array(nn),\n    nfrontier = new Heap((a, b) => a.w - b.w, a => a.nidx), // nidx, eidx, w\n    firstNode = true,\n    i;\n\n  for (i = 0; i < nn; i++) {\n    disArray[i] = null;\n  }\n\n  while (firstNode || nfrontier.size() > 0) {\n    var minNidx;\n    if (firstNode) {\n      // start from s\n      firstNode = false;\n      minNidx = s;\n      disArray[minNidx] = 0;\n    } else {\n      // choose min\n      var minElem = nfrontier.pop();\n      minNidx = minElem.nidx;\n      disArray[minNidx] = minElem.w;\n    }\n\n    // for all neighbours\n    for (i = 0; i < g.ns[minNidx].outnbs.length; i++) {\n      var outnb = g.ns[minNidx].outnbs[i],\n        nextNidx = outnb.nidx,\n        nextEidx = outnb.eidx;\n\n      if (disArray[nextNidx] == null) { // not done\n        if (nfrontier.hasKey(nextNidx)) {\n          var prevElem = nfrontier.getKey(nextNidx);\n          if (disArray[minNidx] + g.es[nextEidx].props.w < prevElem.w) {\n            nfrontier.popKey(nextNidx);\n            nfrontier.push({ nidx: nextNidx, w: disArray[minNidx] + g.es[nextEidx].props.w });\n          }\n        } else {\n          nfrontier.push({ nidx: nextNidx, w: disArray[minNidx] + g.es[nextEidx].props.w });\n        }\n      }\n    }\n  }\n\n  return disArray;\n}\n\nfunction ssspBellmanFord(g, s, debug = false) {\n  var nn = g.ns.length,\n    prevDisArray = [],\n    disArray = new Array(nn),\n    i;\n\n  for (i = 0; i < nn; i++) {\n    disArray[i] = null;\n  }\n  disArray[s] = 0;\n\n  // n iterations\n  for (var k = 0; k < nn; k++) {\n    prevDisArray = disArray.slice(0);\n    // for all nodes\n    for (var curNidx = 0; curNidx < nn; curNidx++) {\n      if (prevDisArray[curNidx] != null) {\n        // for all neighbours\n        for (var j = 0; j < g.ns[curNidx].outnbs.length; j++) {\n          var outnb = g.ns[curNidx].outnbs[j],\n            nextNidx = outnb.nidx,\n            nextEidx = outnb.eidx;\n          if (disArray[nextNidx] == null || prevDisArray[curNidx] + g.es[nextEidx].props.w < disArray[nextNidx]) {\n            disArray[nextNidx] = prevDisArray[curNidx] + g.es[nextEidx].props.w;\n          }\n        }\n      }\n    }\n    if (debug && Math.floor((k + 1) * 100 / nn) > Math.floor(k * 100 / nn)) {\n      console.log(`ssspBellmanFord: completed ${k + 1}/${nn} rounds`);\n    }\n  }\n\n  for (i = 0; i < nn; i++) {\n    if (prevDisArray[i] !== disArray[i]) {\n      return null; // negative cycle detected\n    }\n  }\n\n  return disArray;\n}\n\nfunction apspJohnson(g, minDisOnly = false, debug = false) {\n  if (debug) {\n    console.log('apspJohnson: adding dummy nodes ...');\n  }\n\n  // add dummy nodes\n  var gDummy = addDummySourceNode(clone(g), { w: 0 });\n\n  if (debug) {\n    console.log('apspJohnson: calculating node weight ...');\n  }\n\n  // calculate node weight\n  var nn = g.ns.length,\n    nodeWeights = ssspBellmanFord(gDummy, nn, debug);\n  if (nodeWeights == null) {\n    return null; // negative cycle detected\n  }\n\n  if (debug) {\n    console.log('apspJohnson: re-weighting each edge ...');\n  }\n\n  // re-weight each edge and make it non-negative\n  var gRW = clone(g),\n    i;\n  for (i = 0; i < gRW.es.length; i++) {\n    var edge = gRW.es[i];\n    edge.props.w = edge.props.w + nodeWeights[edge.from] - nodeWeights[edge.to];\n  }\n\n  if (debug) {\n    console.log('apspJohnson: runing dijkstra for each source ...');\n  }\n\n  // run dijkstra for each source and restore path length\n  var disMatrix = new Array(nn),\n    minDis = null,\n    j;\n  for (i = 0; i < nn; i++) {\n    var disArray = ssspDijkstra(gRW, i);\n    for (j = 0; j < nn; j++) {\n      if (disArray[j] != null) {\n        disArray[j] = disArray[j] - nodeWeights[i] + nodeWeights[j];\n        if (minDis == null || minDis > disArray[j]) {\n          minDis = disArray[j];\n        }\n      }\n    }\n    if (!minDisOnly) {\n      disMatrix[i] = disArray;\n    }\n    if (debug && Math.floor((i + 1) * 100 / nn) > Math.floor(i * 100 / nn)) {\n      console.log(`apspJohnson: completed ${i + 1}/${nn} sources`);\n    }\n  }\n\n  return minDisOnly ? minDis : disMatrix;\n}\n\nfunction sumOfEdgeWeight(g, eidices) {\n  var sum = 0;\n  for (var i = 0; i < eidices.length; i++) {\n    sum += g.es[eidices[i]].props.w;\n  }\n  return sum;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/graph.js\n **/","import 'babel-polyfill';\n\nexport default {\n  toInt: toInt,\n  toIntMutate2: toIntMutate2,\n  intCount: intCount,\n  intDec1: intDec1,\n  genAllInts: genAllInts\n};\n\nfunction toInt(bits) {\n  var n = bits.length,\n    sum = 0;\n  for (var i = 0; i < n; i++) {\n    sum |= bits[i] << (n - i - 1);\n  }\n  return sum;\n}\n\nfunction toIntMutate2(bits) {\n  var sum = toInt(bits),\n    n = bits.length,\n    mutated = [],\n    tmp;\n\n  for (var i = 0; i < n; i++) {\n    tmp = _mutate(sum, bits[i], i, n);\n    mutated.push(tmp);\n    for (var j = i + 1; j < n; j++) {\n      mutated.push(_mutate(tmp, bits[j], j, n));\n    }\n  }\n  return mutated;\n}\n\nfunction intCount(sum, n) {\n  var count = 0;\n  for (var i = 0; i < n; i++) {\n    if (sum & (1 << (n - i - 1))) {\n      count++;\n    }\n  }\n  return count;\n}\n\nfunction intDec1(sum, n) {\n  var dec = [];\n  for (var i = 0; i < n; i++) {\n    if (sum & (1 << (n - i - 1))) {\n      dec.push({ p: i, s: sum - (1 << (n - i - 1)) });\n    }\n  }\n  return dec;\n}\n\nfunction genAllInts(n) {\n  var N = Math.pow(2, n),\n    allInts = new Array(n + 1),\n    i;\n  for (i = 0; i < n + 1; i++) {\n    allInts[i] = [];\n  }\n  for (i = 0; i < N; i++) {\n    allInts[intCount(i, n)].push(i);\n  }\n  return allInts;\n}\n\nfunction _mutate(intRep, bitAtP, p, n) {\n  if (bitAtP) {\n    return intRep - (1 << (n - p - 1));\n  } else {\n    return intRep + (1 << (n - p - 1));\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/bitcode.js\n **/","export default {\n  init: init,\n  union: union,\n  find: find\n};\n\nfunction init(n) {\n  var parentArr = new Array(n),\n    rankArr = new Array(n);\n  for (var i = 0; i < n; i++) {\n    parentArr[i] = i;\n    rankArr[i] = 0;\n  }\n  return {\n    parent: parentArr,\n    rank: rankArr\n  };\n}\n\nfunction find(uf, i) {\n  if (uf.parent[i] !== i) {\n    uf.parent[i] = find(uf, uf.parent[i]);\n  }\n  return uf.parent[i];\n}\n\nfunction union(uf, i, j) {\n  var iroot = find(uf, i),\n    jroot = find(uf, j);\n\n  if (uf.rank[iroot] < uf.rank[jroot]) {\n    uf.parent[iroot] = jroot;\n  } else if (uf.rank[iroot] > uf.rank[jroot]) {\n    uf.parent[jroot] = iroot;\n  } else {\n    uf.parent[jroot] = iroot;\n    uf.rank[iroot]++;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/unionfind.js\n **/","import Graph from './graph';\nimport Bitcode from './bitcode';\nimport UF from './unionfind';\nimport 'babel-polyfill';\n\nexport default {\n  maxSpacing: maxSpacing,\n  bitcodeK2: bitcodeK2\n};\n\nfunction maxSpacing(g, k) {\n  var spte = Graph.mstKruskal(g),\n    eindices = spte.slice(0).sort((a, b) => g.es[b].props.w - g.es[a].props.w);\n  return g.es[eindices[k - 2]].props.w;\n}\n\nfunction bitcodeK2(bitcodeArr) {\n  var n = bitcodeArr.length,\n    intReps = bitcodeArr.map(x => Bitcode.toInt(x)),\n    unqIdx = [],\n    intSeen = new Set(),\n    i;\n\n  for (i = 0; i < n; i++) {\n    if (!intSeen.has(intReps[i])) {\n      intSeen.add(intReps[i]);\n      unqIdx.push(i);\n    }\n  }\n\n  var unqBitcodeArr = unqIdx.map(i => bitcodeArr[i]),\n    unqIntReps = unqIdx.map(i => intReps[i]),\n    unqN = unqIdx.length;\n\n  var pos = new Map();\n  for (i = 0; i < unqN; i++) {\n    pos.set(unqIntReps[i], i);\n  }\n\n  var uf = UF.init(unqN),\n    intMutated, j, iroot, jroot;\n  for (i = 0; i < unqN; i++) {\n    intMutated = Bitcode.toIntMutate2(unqBitcodeArr[i]);\n    for (j = 0; j < intMutated.length; j++) {\n      if (pos.has(intMutated[j])) {\n        iroot = UF.find(uf, i);\n        jroot = UF.find(uf, pos.get(intMutated[j]));\n        if (iroot !== jroot) {\n          UF.union(uf, iroot, jroot);\n        }\n      }\n    }\n  }\n\n  var unqRoot = new Set();\n  for (i = 0; i < unqN; i++) {\n    iroot = UF.find(uf, i);\n    unqRoot.add(iroot);\n  }\n  return unqRoot.size;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/clustering.js\n **/","import 'babel-polyfill';\n\nvar dftCmpFunc = (a, b) => a - b,\n  dftKeyFunc = a => a;\n\nexport default class Heap {\n  constructor(cmpFunc = dftCmpFunc, keyFunc = dftKeyFunc, arr = [], pos = new Map()) {\n    // input of arr and pos are used merely for testing\n    this._cmpFunc = cmpFunc;\n    this._keyFunc = keyFunc;\n    this._arr = arr;\n    this._pos = pos;\n  }\n\n  clear() {\n    this._arr = [];\n    this._pos = new Map();\n  }\n\n  toObject() {\n    return {\n      arr: this._arr,\n      pos: Array.from(this._pos.entries()).sort((a, b) => a[1] - b[1])\n    };\n  }\n\n  push(x) {\n    var arr = this._arr,\n      pos = this._pos;\n\n    var xkey = this._keyFunc(x);\n    if (pos.has(xkey)) {\n      throw new Error(`heap push: key ${xkey} already existed`);\n    } else {\n      pos.set(xkey, arr.length);\n      arr.push(x);\n      this.siftUp();\n    }\n  }\n\n  pop() {\n    var arr = this._arr,\n      pos = this._pos,\n      keyFunc = this._keyFunc,\n      n = arr.length;\n    if (n === 0) {\n      throw new Error(`heap pop: nothing to pop`);\n    }\n\n    var val = arr[0];\n    pos.delete(keyFunc(val));\n    if (n === 1) {\n      arr.pop();\n    } else {\n      arr[0] = arr.pop();\n      pos.set(keyFunc(arr[0]), 0);\n      this.siftDown();\n    }\n    return val;\n  }\n\n  peek() {\n    var arr = this._arr;\n    if (arr.length === 0) {\n      throw new Error(`heap peek: nothing to peek`);\n    }\n\n    return arr[0];\n  }\n\n  popKey(xkey) {\n    var arr = this._arr,\n      pos = this._pos,\n      keyFunc = this._keyFunc;\n\n    if (!pos.has(xkey)) {\n      throw new Error(`heap popKey: key ${xkey} does not exist`);\n    } else {\n      var cur = pos.get(xkey),\n        last = arr.length - 1,\n        val = arr[cur];\n      pos.delete(xkey);\n      if (cur === last) {\n        arr.pop();\n      } else {\n        pos.set(keyFunc(arr[last]), cur);\n        arr[cur] = arr[last];\n        arr.pop();\n        this.siftUp(cur);\n        this.siftDown(cur);\n      }\n      return val;\n    }\n  }\n\n  hasKey(xkey) {\n    return this._pos.has(xkey);\n  }\n\n  getKey(xkey) {\n    var arr = this._arr,\n      pos = this._pos;\n    if (!pos.has(xkey)) {\n      throw new Error(`heap getKey: key ${xkey} does not exist`);\n    } else {\n      return arr[pos.get(xkey)];\n    }\n  }\n\n  size() {\n    return this._arr.length;\n  }\n\n  siftUp(start = -1) {\n    var arr = this._arr,\n      pos = this._pos,\n      keyFunc = this._keyFunc,\n      cmpFunc = this._cmpFunc,\n      cur = (start !== -1) ? start : arr.length - 1,\n      parent;\n\n    while (cur > 0) {\n      parent = Math.floor((cur - 1) / 2);\n      if (cmpFunc(arr[cur], arr[parent]) < 0) {\n        pos.set(keyFunc(arr[parent]), cur);\n        pos.set(keyFunc(arr[cur]), parent);\n        [arr[parent], arr[cur]] = [arr[cur], arr[parent]];\n        cur = parent;\n      } else {\n        break;\n      }\n    }\n  }\n\n  siftDown(start = 0) {\n    var arr = this._arr,\n      pos = this._pos,\n      keyFunc = this._keyFunc,\n      n = this._arr.length,\n      cur = start,\n      cmpFunc = this._cmpFunc,\n      left, right, sel;\n\n    for (;;) {\n      sel = cur;\n      left = cur * 2 + 1;\n      right = cur * 2 + 2;\n      if (left < n && cmpFunc(arr[left], arr[sel]) < 0) {\n        sel = left;\n      }\n      if (right < n && cmpFunc(arr[right], arr[sel]) < 0) {\n        sel = right;\n      }\n      if (sel !== cur) {\n        pos.set(keyFunc(arr[sel]), cur);\n        pos.set(keyFunc(arr[cur]), sel);\n        [arr[sel], arr[cur]] = [arr[cur], arr[sel]];\n        cur = sel;\n      } else {\n        break;\n      }\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/heap.js\n **/","import 'babel-polyfill';\n\nexport default {\n  knapsack: knapsack\n};\n\nfunction knapsack(totalWeight, vals, weights) {\n  var stack = [{ n: vals.length, w: totalWeight, exclude: null, include: null }],\n    cache = new Map();\n\n  while (stack.length) {\n    var prob = stack.pop();\n    if (prob.n === 0 || prob.w === 0) {\n      cacheSet(cache, prob.n, prob.w, 0);\n    } else if (prob.exclude == null) {\n      if (cacheHas(cache, prob.n - 1, prob.w)) {\n        prob.exclude = cacheGet(cache, prob.n - 1, prob.w);\n        stack.push(prob);\n      } else {\n        stack.push(prob);\n        stack.push({ n: prob.n - 1, w: prob.w, exclude: null, include: null });\n      }\n    } else if (prob.include == null) {\n      if (prob.w < weights[prob.n - 1]) {\n        prob.include = 0;\n        stack.push(prob);\n      } else if (cacheHas(cache, prob.n - 1, prob.w - weights[prob.n - 1])) {\n        prob.include = cacheGet(cache, prob.n - 1, prob.w - weights[prob.n - 1]) + vals[prob.n - 1];\n        stack.push(prob);\n      } else {\n        stack.push(prob);\n        stack.push({ n: prob.n - 1, w: prob.w - weights[prob.n - 1], exclude: null, include: null });\n      }\n    } else {\n      cacheSet(cache, prob.n, prob.w, Math.max(prob.include, prob.exclude));\n    }\n  }\n\n  return cacheGet(cache, vals.length, totalWeight);\n}\n\nfunction cacheHas(cache, i, w) {\n  return cache.has(i) && cache.get(i).has(w);\n}\n\nfunction cacheSet(cache, i, w, v) {\n  if (!cache.has(i)) {\n    cache.set(i, new Map());\n  }\n  if (!cache.get(i).has(w)) {\n    cache.get(i).set(w, v);\n  }\n}\n\nfunction cacheGet(cache, i, w) {\n  return cache.get(i).get(w);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/knapsack.js\n **/","import Bitcode from './bitcode';\n\nexport default {\n  geoDisMatrix: geoDisMatrix,\n  tsp: tsp\n};\n\nfunction geoDisMatrix(pos) {\n  var n = pos.length,\n    disMatrix = new Array(n);\n  for (var i = 0; i < n; i++) {\n    disMatrix[i] = new Array(n);\n    for (var j = 0; j < n; j++) {\n      var dx = pos[i][0] - pos[j][0],\n        dy = pos[i][1] - pos[j][1];\n      disMatrix[i][j] = Math.sqrt(dx * dx + dy * dy);\n    }\n  }\n  return disMatrix;\n}\n\nfunction tsp(disMatrix, n, debug = false) {\n  if (n <= 1) {\n    return 0;\n  }\n\n  if (debug) {\n    console.log('generating all combinations ...');\n  }\n\n  var N = Math.pow(2, n - 1),\n    allInts = Bitcode.genAllInts(n - 1);\n\n  var Nsub = 0,\n    i;\n  for (i = 0; i < allInts.length; i++) {\n    Nsub = Math.max(Nsub, allInts[i].length);\n  }\n\n  var prevMapping = new Uint32Array(N),\n    curMapping = new Uint32Array(N),\n    prevPath = new Float32Array(Nsub * n),\n    curPath = new Float32Array(Nsub * n),\n    prevCount = 0,\n    curCount = 0;\n\n  if (debug) {\n    console.log('running on 1 edge ...');\n  }\n\n  var j, dec;\n  curCount = n - 1;\n  for (j = 0; j < n - 1; j++) {\n    curMapping[allInts[1][j]] = j;\n  }\n  curPath.fill(-1, 0, (n - 1) * n);\n  for (j = 0; j < n - 1; j++) {\n    dec = Bitcode.intDec1(allInts[1][j], n - 1);\n    curPath[j * n + dec[0].p] = disMatrix[n - 1][dec[0].p];\n  }\n\n  var prevDis, minDis, k, l;\n  for (i = 2; i < n; i++) {\n    if (debug) {\n      console.log(`running on ${i} edges ...`);\n    }\n\n    [prevCount, curCount] = [curCount, prevCount];\n    [prevMapping, curMapping] = [curMapping, prevMapping];\n    [prevPath, curPath] = [curPath, prevPath];\n    curCount = allInts[i].length;\n    for (j = 0; j < curCount; j++) {\n      curMapping[allInts[i][j]] = j;\n    }\n    curPath.fill(-1, 0, curCount * n);\n    for (j = 0; j < curCount; j++) {\n      dec = Bitcode.intDec1(allInts[i][j], n - 1);\n      for (k = 0; k < dec.length; k++) {\n        // prefix-set: dec[k].s, prefix-last: l, cur-last: dec[k].p\n        minDis = -1;\n        for (l = 0; l < n; l++) {\n          prevDis = prevPath[prevMapping[dec[k].s] * n + l];\n          if (prevDis !== -1) {\n            prevDis += disMatrix[l][dec[k].p];\n            if (minDis === -1 || minDis > prevDis) {\n              minDis = prevDis;\n            }\n          }\n        }\n        curPath[j * n + dec[k].p] = minDis;\n      }\n    }\n  }\n\n  if (debug) {\n    console.log(`running on ${i} edges ...`);\n  }\n\n  minDis = -1;\n  var curDis;\n  for (i = 0; i < n - 1; i++) {\n    curDis = curPath[i];\n    if (curDis !== -1) {\n      curDis += disMatrix[i][n - 1];\n      if (minDis === -1 || minDis > curDis) {\n        minDis = curDis;\n      }\n    }\n  }\n  return minDis;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/tsp.js\n **/","import Graph from './graph';\n\nexport default {\n  isSatisfiable: isSatisfiable\n};\n\nfunction isSatisfiable(twoSatArray) {\n  var g = twoSatArray2Graph(twoSatArray),\n    nn = g.ns.length / 2,\n    labels = Graph.sccKosaraju(g);\n  for (var i = 0; i < nn; i++) {\n    if (labels[i] === labels[i + nn]) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction twoSatArray2Graph(twoSatArray) {\n  var vn = 0;\n  for (let [vidx1, vidx2] of twoSatArray) {\n    vn = Math.max(vn, Math.abs(vidx1));\n    vn = Math.max(vn, Math.abs(vidx2));\n  }\n\n  var edges = [];\n  for (let [vidx1, vidx2] of twoSatArray) {\n    edges.push({ from: vidx2nidx(-vidx1, vn), to: vidx2nidx(vidx2, vn) });\n    edges.push({ from: vidx2nidx(-vidx2, vn), to: vidx2nidx(vidx1, vn) });\n  }\n\n  return Graph.makeGraphFromEdges(edges, true, false);\n}\n\nfunction vidx2nidx(vidx, vn) {\n  if (vidx > 0) {\n    return vidx - 1;\n  } else {\n    return -vidx - 1 + vn;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/twosat.js\n **/","export default {\n  sortByDiff: sortByDiff,\n  sortByRatio: sortByRatio,\n  getWCompTime: getWCompTime\n};\n\nfunction sortByDiff(tasks) {\n  return tasks.sort((a, b) => {\n    var adiff = a.w - a.l,\n      bdiff = b.w - b.l;\n    if (adiff !== bdiff) {\n      return bdiff - adiff;\n    } else {\n      return b.w - a.w;\n    }\n  });\n}\n\nfunction sortByRatio(tasks) {\n  return tasks.sort((a, b) => {\n    return b.w / b.l - a.w / a.l;\n  });\n}\n\nfunction getWCompTime(tasks) {\n  var sum = 0,\n    cumt = 0;\n  for (var i = 0; i < tasks.length; i++) {\n    cumt += tasks[i].l;\n    sum += tasks[i].w * cumt;\n  }\n  return sum;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/wcomptime.js\n **/"],"sourceRoot":""}